@page "/login"

 <MudGrid Justify="Justify.Center">
        <MudItem xs="12" sm="6" md="5" lg="5">
            <MudPaper Class="d-flex justify-center flex-grow-1 gap-4" Elevation="0">
                <MudImage Src="images/ProgrammersInside.png" Width="270" Height="270" Elevation="0" Class="rounded-lg"/>
            </MudPaper>
        </MudItem>
    </MudGrid>

    <MudGrid Justify="Justify.Center">
        <MudItem xs="12" sm="6" md="5" lg="5">
            <MudPaper Class="d-flex pa-1" Elevation="0">
                <MudTextField Label="Email" Variant="Variant.Outlined"  @bind-Value="Email"/>
            </MudPaper>
            <MudPaper Class="d-flex pa-1" Elevation="0">
                <MudTextField
                    @bind-Value="Password"
                    Label="Password"
                    Variant="Variant.Outlined"
                    InputType="@PasswordInput"
                    Adornment="Adornment.End"
                    AdornmentIcon="@PasswordInputIcon"
                    OnAdornmentClick="ShowPassword"
                    AdornmentAriaLabel="Show Password"/>
            </MudPaper>
            <MudPaper Class="d-flex pa-4" Elevation="0">
                @* <MudButton FullWidth="true" Color="Color.Success" Variant="Variant.Filled" OnClick="SingIn">Login</MudButton> *@
            </MudPaper>
        </MudItem>
    </MudGrid>
    
    @if (!string.IsNullOrEmpty(Error))
    {
        <MudGrid Justify="Justify.Center" Class="mt-8">
            <MudItem xs="12" sm="6" md="5" lg="5">
                <MudAlert Severity="Severity.Error" Elevation="0" Icon="@Icons.Material.Filled.Error">@Error</MudAlert>
            </MudItem>
        </MudGrid>
    }

@code {
    
    [Inject] private NavigationManager NavigationManager { get; set; } = null!;

    private string Email { get; set; } = string.Empty;
    private string Password { get; set; } = string.Empty;
    private bool IsPasswordShow { get; set; }
    private InputType PasswordInput { get; set; } = InputType.Password;
    private string PasswordInputIcon { get; set; } = Icons.Material.Filled.VisibilityOff;
    private string Error { get; set; } = string.Empty;

    private void ShowPassword()
    {
        if (IsPasswordShow)
        {
            IsPasswordShow = false;
            PasswordInputIcon = Icons.Material.Filled.VisibilityOff;
            PasswordInput = InputType.Password;
        }
        else
        {
            IsPasswordShow = true;
            PasswordInputIcon = Icons.Material.Filled.Visibility;
            PasswordInput = InputType.Text;
        }
    }

    @* private async Task SingIn(MouseEventArgs args)
    {

    } *@
}
